{"version":3,"file":"index.mjs","sources":["../../server/src/bootstrap.ts","../../server/src/destroy.ts","../../server/src/register.ts","../../server/src/config/index.ts","../../server/src/content-types/iconlibrary/index.ts","../../server/src/content-types/index.ts","../../server/src/controllers/iconLibraryController.ts","../../server/src/controllers/index.ts","../../server/src/middlewares/index.ts","../../server/src/policies/index.ts","../../server/src/routes/index.ts","../../server/src/services/iconLibraryService.ts","../../server/src/services/index.ts","../../server/src/index.ts"],"sourcesContent":["import type { Core } from '@strapi/strapi';\n\nconst bootstrap = async ({ strapi }: { strapi: Core.Strapi }) => {\n  const actions = [\n    {\n      section: 'plugins',\n      displayName: 'Access strapi-icon-picker menu',\n      uid: 'read',\n      pluginName: 'strapi-icon-picker',\n    }\n  ];\n\n  await (strapi as any).admin?.services.permission.actionProvider.registerMany(actions);\n};\n\nexport default bootstrap;\n","import type { Core } from '@strapi/strapi';\n\nconst destroy = ({ strapi }: { strapi: Core.Strapi }) => {\n  // destroy phase\n};\n\nexport default destroy;\n","import type { Core } from '@strapi/strapi';\n\nconst register = ({ strapi }: { strapi: Core.Strapi }) => {\n  strapi.customFields.register({\n    name: 'icon',\n    plugin: 'strapi-icon-picker',\n    type: 'string',\n  });\n};\n\nexport default register;\n","export default {\n  default: {},\n  validator() {},\n};\n","import schema  from './schema.json'\n\nexport default {\n  schema,\n};\n","import iconlibrary from './iconlibrary';\n\nexport default {\n  iconlibrary,\n};\n","import { Core } from '@strapi/strapi';\n\nconst getService = (strapi) => strapi.plugin('strapi-icon-picker').service('iconLibraryService');\n\nexport default ({ strapi }: { strapi: Core.Strapi }) => ({\n  async find(ctx: any) {\n    try {\n      ctx.body = await getService(strapi).find(ctx.query);\n    } catch (error) {\n      ctx.throw(500, error);\n    }\n  },\n  async create(ctx: any) {\n    try {\n      await getService(strapi).create(ctx.request.body);\n      ctx.body = await getService(strapi).find();\n    } catch (error) {\n      ctx.throw(500, error);\n    }\n  },\n  async update(ctx: any) {\n    try {\n      await getService(strapi).update(ctx.params.id, ctx.request.body);\n      ctx.body = await getService(strapi).find();\n    } catch (error) {\n      ctx.throw(500, error);\n    }\n  },\n  async delete(ctx: any) {\n    try {\n      ctx.body = await getService(strapi).delete(ctx.params.id);\n    } catch (error) {\n      ctx.throw(500, error);\n    }\n  },\n});\n","import iconLibraryController from './iconLibraryController';\n\nconst controllers: any = {\n  iconLibraryController,\n};\n\nexport default controllers","export default {};\n","export default {};\n","export default [\n  {\n    method: 'GET',\n    path: '/iconlibrary/find',\n    handler: 'iconLibraryController.find',\n    config: { policies: [], },\n  },\n  {\n    method: 'POST',\n    path: '/iconlibrary/post',\n    handler: 'iconLibraryController.create',\n    config: { policies: [], },\n  },\n  {\n    method: 'PUT',\n    path: '/iconlibrary/update/:id',\n    handler: 'iconLibraryController.update',\n    config: { policies: [], },\n  },\n  {\n    method: 'DELETE',\n    path: '/iconlibrary/delete/:id',\n    handler: 'iconLibraryController.delete',\n    config: { policies: [], },\n  },\n];\n","import { Core } from '@strapi/strapi';\n\nconst USER_MODEL_UID = 'plugin::strapi-icon-picker.iconlibrary'\nconst iconLibraryService: any = ({ strapi }: { strapi: Core.Strapi }) => ({\n  async find(query) {\n    return await strapi.documents(USER_MODEL_UID).findMany(query);\n  },\n  async create(data) {\n    return await strapi.documents(USER_MODEL_UID).create(data);\n  },\n  async update(id, data) {\n    return await strapi.documents(USER_MODEL_UID).update({\n      documentId: id,\n      data\n    });\n  },\n  async delete(id) {\n    return await strapi.documents(USER_MODEL_UID).delete(id);\n  },\n});\n\nexport default iconLibraryService","import iconLibraryService from './iconLibraryService';\n\nconst services: any = {\n  iconLibraryService,\n};\n\nexport default services","/**\n * Application methods\n */\nimport bootstrap from './bootstrap';\nimport destroy from './destroy';\nimport register from './register';\n\n/**\n * Plugin server methods\n */\nimport config from './config';\nimport contentTypes from './content-types';\nimport controllers from './controllers';\nimport middlewares from './middlewares';\nimport policies from './policies';\nimport routes from './routes';\nimport services from './services';\n\nconst methods: any = {\n  register,\n  bootstrap,\n  destroy,\n  config,\n  controllers,\n  routes,\n  services,\n  contentTypes,\n  policies,\n  middlewares,\n};\nexport default methods"],"names":[],"mappings":"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"}