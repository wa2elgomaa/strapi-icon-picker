{"version":3,"file":"index-B47T8v3i.mjs","sources":["../../admin/src/pluginId.ts","../../admin/src/components/Initializer.tsx","../../admin/src/components/PluginIcon.tsx","../../admin/src/utils/getTrad.ts","../../admin/src/index.ts"],"sourcesContent":["export const PLUGIN_ID = 'strapi-icon-picker';\n","import { useEffect, useRef } from 'react';\n\nimport { PLUGIN_ID } from '../pluginId';\n\ntype InitializerProps = {\n  setPlugin: (id: string) => void;\n};\n\n/**\n * Initializes the icon picker plugin by registering it with the parent\n * application.\n *\n * @param {{ setPlugin: (id: string) => void }} props\n * @prop {function} setPlugin - A callback function that registers the plugin\n *     with the parent application.\n *\n * @returns {null}\n */\nconst Initializer = ({ setPlugin }: InitializerProps) => {\n  const ref = useRef(setPlugin);\n\n  useEffect(() => {\n    ref.current(PLUGIN_ID);\n  }, []);\n\n  return null;\n};\n\nexport { Initializer };\n","const PluginIcon = () => (\n  <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"#c0c0cf\">\n    <title>react</title>\n    <rect width=\"24\" height=\"24\" fill=\"none\" />\n    <path d=\"M12,10.11A1.87,1.87,0,1,1,10.13,12,1.88,1.88,0,0,1,12,10.11M7.37,20c.63.38,2-.2,3.6-1.7a24.22,24.22,0,0,1-1.51-1.9A22.7,22.7,0,0,1,7.06,16c-.51,2.14-.32,3.61.31,4m.71-5.74-.29-.51a7.91,7.91,0,0,0-.29.86c.27.06.57.11.88.16l-.3-.51m6.54-.76.81-1.5-.81-1.5c-.3-.53-.62-1-.91-1.47C13.17,9,12.6,9,12,9s-1.17,0-1.71,0c-.29.47-.61.94-.91,1.47L8.57,12l.81,1.5c.3.53.62,1,.91,1.47.54,0,1.11,0,1.71,0s1.17,0,1.71,0c.29-.47.61-.94.91-1.47M12,6.78c-.19.22-.39.45-.59.72h1.18c-.2-.27-.4-.5-.59-.72m0,10.44c.19-.22.39-.45.59-.72H11.41c.2.27.4.5.59.72M16.62,4c-.62-.38-2,.2-3.59,1.7a24.22,24.22,0,0,1,1.51,1.9,22.7,22.7,0,0,1,2.4.36c.51-2.14.32-3.61-.32-4m-.7,5.74.29.51a7.91,7.91,0,0,0,.29-.86c-.27-.06-.57-.11-.88-.16l.3.51m1.45-7c1.47.84,1.63,3.05,1,5.63,2.54.75,4.37,2,4.37,3.68s-1.83,2.93-4.37,3.68c.62,2.58.46,4.79-1,5.63s-3.45-.12-5.37-1.95c-1.92,1.83-3.91,2.79-5.38,1.95s-1.62-3-1-5.63c-2.54-.75-4.37-2-4.37-3.68S3.08,9.07,5.62,8.32c-.62-2.58-.46-4.79,1-5.63s3.46.12,5.38,1.95c1.92-1.83,3.91-2.79,5.37-1.95M17.08,12A22.51,22.51,0,0,1,18,14.26c2.1-.63,3.28-1.53,3.28-2.26S20.07,10.37,18,9.74A22.51,22.51,0,0,1,17.08,12M6.92,12A22.51,22.51,0,0,1,6,9.74c-2.1.63-3.28,1.53-3.28,2.26S3.93,13.63,6,14.26A22.51,22.51,0,0,1,6.92,12m9,2.26-.3.51c.31,0,.61-.1.88-.16a7.91,7.91,0,0,0-.29-.86l-.29.51M13,18.3c1.59,1.5,3,2.08,3.59,1.7s.83-1.82.32-4a22.7,22.7,0,0,1-2.4.36A24.22,24.22,0,0,1,13,18.3M8.08,9.74l.3-.51c-.31,0-.61.1-.88.16a7.91,7.91,0,0,0,.29.86l.29-.51M11,5.7C9.38,4.2,8,3.62,7.37,4s-.82,1.82-.31,4a22.7,22.7,0,0,1,2.4-.36A24.22,24.22,0,0,1,11,5.7Z\" />\n  </svg>\n);\n\nexport default PluginIcon;\n","import {PLUGIN_ID as pluginId} from '../pluginId';\n\nconst getTrad = (id: string) => `${pluginId}.${id}`;\n\nexport default getTrad;\n","import { PLUGIN_ID as pluginId } from './pluginId';\nimport { Initializer } from './components/Initializer';\nimport PluginIcon from './components/PluginIcon';\nimport getTrad from './utils/getTrad';\nimport pluginPkg from '../../package.json';\n\nconst name = pluginPkg.strapi.name;\n\nexport default {\n  register(app: any) {\n    app.customFields.register({\n      name: 'icon',\n      pluginId,\n      icon: PluginIcon,\n      type: 'string',\n      intlLabel: {\n        id: getTrad('label'),\n        defaultMessage: 'Icon Picker',\n      },\n      intlDescription: {\n        id: getTrad('description'),\n        defaultMessage: 'Select an icon',\n      },\n      components: {\n        Input: async () =>\n          import(\n            /* webpackChunkName: \"strapi-icon-picker-input-component\" */ './components/ReactIconsSelector'\n          ),\n      },\n      options: {\n        advanced: [\n          {\n            sectionTitle: {\n              id: 'global.settings',\n              defaultMessage: 'Settings',\n            },\n            items: [\n              {\n                name: 'required',\n                type: 'checkbox',\n                intlLabel: {\n                  id: getTrad('options.advanced.requiredField'),\n                  defaultMessage: 'Required field',\n                },\n                description: {\n                  id: getTrad('options.advanced.requiredField.description'),\n                  defaultMessage: \"You won't be able to create an entry if this field is empty\",\n                },\n              },\n            ],\n          },\n        ],\n      },\n    });\n    app.addMenuLink({\n      to: `plugins/${pluginId}`,\n      icon: PluginIcon,\n      intlLabel: {\n        id: `${pluginId}.plugin.name`,\n        defaultMessage: name,\n      },\n      Component: async () => {\n        const { App } = await import('./pages/App');\n\n        return App;\n      },\n      permissions: [\n        {\n          action: 'plugin::strapi-icon-picker.read',\n          subject: null,\n        },\n      ],\n    });\n\n    app.registerPlugin({\n      id: pluginId,\n      initializer: Initializer,\n      isReady: false,\n      name,\n    });\n  },\n\n  async registerTrads({ locales }: { locales: string[] }) {\n    const importedTrads = await Promise.all(\n      (locales as any[]).map((locale) => {\n        return import(`./translations/${locale}.json`)\n          .then(({ default: data }) => {\n            return {\n              data,\n              locale,\n            };\n          })\n          .catch(() => {\n            return {\n              data: {},\n              locale,\n            };\n          });\n      })\n    );\n\n    return Promise.resolve(importedTrads);\n  },\n};\n"],"names":["pluginId"],"mappings":";;;;;;;;;;;;;;;;;;AAAO,MAAM,YAAY;ACkBzB,MAAM,cAAc,CAAC,EAAE,gBAAkC;AACvD,QAAM,MAAM,OAAO,SAAS;AAE5B,YAAU,MAAM;AACd,QAAI,QAAQ,SAAS;AAAA,EACvB,GAAG,CAAA,CAAE;AAEL,SAAO;AACT;AC1BA,MAAM,aAAa,MACjB,qBAAC,OAAA,EAAI,OAAM,QAAO,QAAO,QAAO,SAAQ,aAAY,OAAM,8BAA6B,MAAK,WAC1F,UAAA;AAAA,EAAA,oBAAC,WAAM,UAAA,QAAA,CAAK;AAAA,sBACX,QAAA,EAAK,OAAM,MAAK,QAAO,MAAK,MAAK,QAAO;AAAA,EACzC,oBAAC,QAAA,EAAK,GAAE,wgDAAA,CAAwgD;AAAA,GAClhD;ACHF,MAAM,UAAU,CAAC,OAAe,GAAGA,SAAQ,IAAI,EAAE;;;;;;;ACIjD,MAAM,OAAO,UAAU,OAAO;AAE9B,MAAA,QAAe;AAAA,EACb,SAAS,KAAU;AACjB,QAAI,aAAa,SAAS;AAAA,MACxB,MAAM;AAAA,MAAA,UACNA;AAAAA,MACA,MAAM;AAAA,MACN,MAAM;AAAA,MACN,WAAW;AAAA,QACT,IAAI,QAAQ,OAAO;AAAA,QACnB,gBAAgB;AAAA,MAAA;AAAA,MAElB,iBAAiB;AAAA,QACf,IAAI,QAAQ,aAAa;AAAA,QACzB,gBAAgB;AAAA,MAAA;AAAA,MAElB,YAAY;AAAA,QACV,OAAO,YACL;AAAA;AAAA,UAC+D;AAAA,QAAA;AAAA,MAC/D;AAAA,MAEJ,SAAS;AAAA,QACP,UAAU;AAAA,UACR;AAAA,YACE,cAAc;AAAA,cACZ,IAAI;AAAA,cACJ,gBAAgB;AAAA,YAAA;AAAA,YAElB,OAAO;AAAA,cACL;AAAA,gBACE,MAAM;AAAA,gBACN,MAAM;AAAA,gBACN,WAAW;AAAA,kBACT,IAAI,QAAQ,gCAAgC;AAAA,kBAC5C,gBAAgB;AAAA,gBAAA;AAAA,gBAElB,aAAa;AAAA,kBACX,IAAI,QAAQ,4CAA4C;AAAA,kBACxD,gBAAgB;AAAA,gBAAA;AAAA,cAClB;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF,CACD;AACD,QAAI,YAAY;AAAA,MACd,IAAI,WAAWA,SAAQ;AAAA,MACvB,MAAM;AAAA,MACN,WAAW;AAAA,QACT,IAAI,GAAGA,SAAQ;AAAA,QACf,gBAAgB;AAAA,MAAA;AAAA,MAElB,WAAW,YAAY;AACrB,cAAM,EAAE,IAAA,IAAQ,MAAM,OAAO,oBAAa;AAE1C,eAAO;AAAA,MACT;AAAA,MACA,aAAa;AAAA,QACX;AAAA,UACE,QAAQ;AAAA,UACR,SAAS;AAAA,QAAA;AAAA,MACX;AAAA,IACF,CACD;AAED,QAAI,eAAe;AAAA,MACjB,IAAIA;AAAAA,MACJ,aAAa;AAAA,MACb,SAAS;AAAA,MACT;AAAA,IAAA,CACD;AAAA,EACH;AAAA,EAEA,MAAM,cAAc,EAAE,WAAkC;AACtD,UAAM,gBAAgB,MAAM,QAAQ;AAAA,MACjC,QAAkB,IAAI,CAAC,WAAW;AACjC,eAAO,qCAAA,uBAAA,OAAA,EAAA,0BAAA,MAAA,OAAA,mBAAA,EAAA,CAAA,GAAA,kBAAA,MAAA,SAAA,CAAA,EACJ,KAAK,CAAC,EAAE,SAAS,WAAW;AAC3B,iBAAO;AAAA,YACL;AAAA,YACA;AAAA,UAAA;AAAA,QAEJ,CAAC,EACA,MAAM,MAAM;AACX,iBAAO;AAAA,YACL,MAAM,CAAA;AAAA,YACN;AAAA,UAAA;AAAA,QAEJ,CAAC;AAAA,MACL,CAAC;AAAA,IAAA;AAGH,WAAO,QAAQ,QAAQ,aAAa;AAAA,EACtC;AACF;"}